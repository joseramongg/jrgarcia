!function(e){function t(){var e=arguments[0],r=t.cache;return r[e]&&r.hasOwnProperty(e)||(r[e]=t.parse(e)),t.format.call(null,r[e],arguments)}function r(e){return"number"==typeof e?"number":"string"==typeof e?"string":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/bcdiefguxX/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,s){var i,o,l,p,c,f,u,g=1,_=e.length,d="",b=[],h=!0,x="";for(o=0;o<_;o++)if("string"===(d=r(e[o])))b[b.length]=e[o];else if("array"===d){if((p=e[o])[2])for(i=s[g],l=0;l<p[2].length;l++){if(!i.hasOwnProperty(p[2][l]))throw new Error(t('[sprintf] property "%s" does not exist',p[2][l]));i=i[p[2][l]]}else i=p[1]?s[p[1]]:s[g++];if(n.not_type.test(p[8])&&n.not_primitive.test(p[8])&&"function"==r(i)&&(i=i()),n.numeric_arg.test(p[8])&&"number"!=r(i)&&isNaN(i))throw new TypeError(t("[sprintf] expecting number but found %s",r(i)));switch(n.number.test(p[8])&&(h=i>=0),p[8]){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,p[6]?parseInt(p[6]):0);break;case"e":i=p[7]?parseFloat(i).toExponential(p[7]):parseFloat(i).toExponential();break;case"f":i=p[7]?parseFloat(i).toFixed(p[7]):parseFloat(i);break;case"g":i=p[7]?parseFloat(i).toPrecision(p[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=String(i),i=p[7]?i.substring(0,p[7]):i;break;case"t":i=String(!!i),i=p[7]?i.substring(0,p[7]):i;break;case"T":i=r(i),i=p[7]?i.substring(0,p[7]):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=p[7]?i.substring(0,p[7]):i;break;case"x":i=parseInt(i,10).toString(16);break;case"X":i=parseInt(i,10).toString(16).toUpperCase()}n.json.test(p[8])?b[b.length]=i:(!n.number.test(p[8])||h&&!p[3]?x="":(x=h?"+":"-",i=i.toString().replace(n.sign,"")),f=p[4]?"0"===p[4]?"0":p[4].charAt(1):" ",u=p[6]-(x+i).length,c=p[6]&&u>0?function(e,t){return t>=0&&t<=7&&a[e]?a[e][t]:Array(t+1).join(e)}(f,u):"",b[b.length]=p[5]?x+i+c:"0"===f?x+c+i:c+x+i)}return b.join("")},t.cache={},t.parse=function(e){for(var t=e,r=[],s=[],a=0;t;){if(null!==(r=n.text.exec(t)))s[s.length]=r[0];else if(null!==(r=n.modulo.exec(t)))s[s.length]="%";else{if(null===(r=n.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){a|=1;var i=[],o=r[2],l=[];if(null===(l=n.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i[i.length]=l[1];""!==(o=o.substring(l[0].length));)if(null!==(l=n.key_access.exec(o)))i[i.length]=l[1];else{if(null===(l=n.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");i[i.length]=l[1]}r[2]=i}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s[s.length]=r}t=t.substring(r[0].length)}return s};var s=function(e,r,n){return(n=(r||[]).slice(0)).splice(0,0,e),t.apply(null,n)},a={0:["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]};"undefined"!=typeof exports?(exports.sprintf=t,exports.vsprintf=s):(e.sprintf=t,e.vsprintf=s,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:s}}))}("undefined"==typeof window?this:window);
