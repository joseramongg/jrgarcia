!function(a){"use strict";function e(a){return"0123456789".indexOf(a)>-1}function t(e,t,i){var n,l,o,p=a(e),d=a.fn.media.defaults.players[i];if("iframe"==i)(d=a('<iframe width="'+t.width+'" height="'+t.height+'" >')).attr("src",t.src),d.css("backgroundColor",d.bgColor);else if("img"==i)(d=a("<img>")).attr("src",t.src),t.width&&d.attr("width",t.width),t.height&&d.attr("height",t.height),d.css("backgroundColor",d.bgColor);else if(s){n=['<object width="'+t.width+'" height="'+t.height+'" '];for(l in t.attrs)n.push(l+'="'+t.attrs[l]+'" ');for(l in d.ieAttrs||{})o=d.ieAttrs[l],"codebase"==l&&"https:"==window.location.protocol&&(o=o.replace("http","https")),n.push(l+'="'+o+'" ');n.push("></object>");var m=['<param name="'+(d.oUrl||"src")+'" value="'+t.src+'">'];for(l in t.params)m.push('<param name="'+l+'" value="'+t.params[l]+'">');d=document.createElement(n.join(""));for(var f=0;f<m.length;f++)d.appendChild(document.createElement(m[f]))}else if(t.standards){if(n=['<object type="'+d.mimetype+'" width="'+t.width+'" height="'+t.height+'"'],t.src&&n.push(' data="'+t.src+'" '),r)for(l in d.ieAttrs||{})o=d.ieAttrs[l],"codebase"==l&&"https:"==window.location.protocol&&(o=o.replace("http","https")),n.push(l+'="'+o+'" ');n.push(">"),n.push('<param name="'+(d.oUrl||"src")+'" value="'+t.src+'">');for(l in t.params)"wmode"==l&&"flash"!=i||n.push('<param name="'+l+'" value="'+t.params[l]+'">');n.push("<div><p><strong>"+d.title+" Required</strong></p><p>"+d.title+' is required to view this media. <a href="'+d.pluginspage+'">Download Here</a>.</p></div>'),n.push("</object>")}else{n=['<embed width="'+t.width+'" height="'+t.height+'" style="display:block"'],t.src&&n.push(' src="'+t.src+'" ');for(l in t.attrs)n.push(l+'="'+t.attrs[l]+'" ');for(l in d.eAttrs||{})n.push(l+'="'+d.eAttrs[l]+'" ');for(l in t.params)"wmode"==l&&"flash"!=i||n.push(l+'="'+t.params[l]+'" ');n.push("></embed>")}var h=e.id?' id="'+e.id+'"':"",c=t.cls?' class="'+t.cls+'"':"",u=a("<div"+h+c+">");return p.after(u).remove(),s||"iframe"==i||"img"==i?u.append(d):u.html(n.join("")),t.caption&&a("<div>").appendTo(u).html(t.caption),u}var i=document.documentMode||0,r=/MSIE/.test(navigator.userAgent),s=r&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||i<9);a.fn.media=function(t,i,r){return"undo"==t?this.each(function(){var e=a(this),t=e.data("media.origHTML");t&&e.replaceWith(t)}):this.each(function(){"function"==typeof t&&(r=i,i=t,t={});var s=function(e,t){t=t||{};var i,r,s=a(e),n=e.className||"",l=a.metadata?s.metadata():a.meta?s.data():{},o=(l=l||{}).width||parseInt((n.match(/\bw:(\d+)/)||[])[1]||0,10)||parseInt((n.match(/\bwidth:(\d+)/)||[])[1]||0,10),p=l.height||parseInt((n.match(/\bh:(\d+)/)||[])[1]||0,10)||parseInt((n.match(/\bheight:(\d+)/)||[])[1]||0,10);o&&(l.width=o),p&&(l.height=p),n&&(l.cls=n);for(var d=0;d<e.attributes.length;d++)i=e.attributes[d],0===(r=a.trim(i.name)).indexOf("data-")&&(l[r=r.substring("data-".length)]=i.value);i=a.fn.media.defaults;var m=t,f=l,h={params:{bgColor:t.bgColor||a.fn.media.defaults.bgColor}},c=a.extend({},i,m,f);return a.each(["attrs","params","flashvars","silverlight"],function(e,t){c[t]=a.extend({},h[t]||{},i[t]||{},m[t]||{},f[t]||{})}),void 0===c.caption&&(c.caption=s.text()),c.src=c.src||s.attr("href")||s.attr("src")||"unknown",c}(this,t);"function"==typeof i&&i(this,s);var n,l=function(){var e="";for(var t in a.fn.media.defaults.players)e.length&&(e+=","),e+=a.fn.media.defaults.players[t].types;return new RegExp("\\.("+e.replace(/,/gi,"|")+")\\b")}().exec(s.src.toLowerCase())||[""];s.type?l[0]=s.type:l.shift();for(var o=0;o<l.length;o++)if(n=l[o].toLowerCase(),e(n[0])&&(n="fn"+n),a.fn.media[n]){var p=a.fn.media[n+"_player"];if(s.params||(s.params={}),p){var d="autostart"==p.autoplayAttr;s.params[p.autoplayAttr||"autoplay"]=d?s.autoplay?1:0:!!s.autoplay}var m=a.fn.media[n](this,s);if(m.css("backgroundColor",s.bgColor).width(s.width),s.canUndo){var f=a("<div></div>").append(this);m.data("media.origHTML",f.html())}"function"==typeof r&&r(this,m[0],s,p.name);break}})},a.fn.media.mapFormat=function(t,i){t&&i&&a.fn.media.defaults.players[i]&&(e((t=t.toLowerCase())[0])&&(t="fn"+t),a.fn.media[t]=a.fn.media[i],a.fn.media[t+"_player"]=a.fn.media.defaults.players[i])},a.fn.media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},a.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+a.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:function(){for(var a=navigator.plugins||[],e=0;e<a.length;e++)if("np-mswmp.dll"==a[e].filename)return!0;return!1}()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};var n=1;for(var l in a.fn.media.defaults.players){var o=a.fn.media.defaults.players[l].types;a.each(o.split(","),function(i,r){e(r[0])&&(r="fn"+r),a.fn.media[r]=a.fn.media[l]=function(a){return function(e,i){return t(e,i,a)}}(l),a.fn.media[r+"_player"]=a.fn.media.defaults.players[l]})}a.fn.media.swf=function(e,i){var r,s;if(!window.SWFObject&&!window.swfobject){if(i.flashvars){var l=[];for(r in i.flashvars)l.push(r+"="+i.flashvars[r]);i.params||(i.params={}),i.params.flashvars=l.join("&")}return t(e,i,"flash")}var o=e.id?' id="'+e.id+'"':"",p=i.cls?' class="'+i.cls+'"':"",d=a("<div"+o+p+">");if(window.swfobject)a(e).after(d).appendTo(d),e.id||(e.id="movie_player_"+n++),window.swfobject.embedSWF(i.src,e.id,i.width,i.height,i.flashVersion,i.expressInstaller,i.flashvars,i.params,i.attrs);else{a(e).after(d).remove();var m=new SWFObject(i.src,"movie_player_"+n++,i.width,i.height,i.flashVersion,i.bgColor);i.expressInstaller&&m.useExpressInstall(i.expressInstaller);for(s in i.params)"bgColor"!=s&&m.addParam(s,i.params[s]);for(r in i.flashvars)m.addVariable(r,i.flashvars[r]);m.write(d[0])}return i.caption&&a("<div>").appendTo(d).html(i.caption),d},a.fn.media.flv=a.fn.media.mp3=function(e,t){var i=t.src,r=/\.mp3\b/i.test(i)?t.mp3Player:t.flvPlayer,s=t.flvKeyName;i=encodeURIComponent(i),t.src=r,t.src=t.src+"?"+s+"="+i;var n={};return n[s]=i,t.flashvars=a.extend({},n,t.flashvars),a.fn.media.swf(e,t)},a.fn.media.xaml=function(e,t){if(!window.Sys||!window.Sys.Silverlight){if(a.fn.media.xaml.warning)return;return a.fn.media.xaml.warning=1,void alert("You must include the Silverlight.js script.")}var i={width:t.width,height:t.height,background:t.bgColor,inplaceInstallPrompt:t.silverlight.inplaceInstallPrompt,isWindowless:t.silverlight.isWindowless,framerate:t.silverlight.framerate,version:t.silverlight.version},r={onError:t.silverlight.onError,onLoad:t.silverlight.onLoad},s=e.id?' id="'+e.id+'"':"",l=t.id||"AG"+n++,o=t.cls?' class="'+t.cls+'"':"",p=a("<div"+s+o+">");return a(e).after(p).remove(),Sys.Silverlight.createObjectEx({source:t.src,initParams:t.silverlight.initParams,userContext:t.silverlight.userContext,id:l,parentElement:p[0],properties:i,events:r}),t.caption&&a("<div>").appendTo(p).html(t.caption),p}}(jQuery);
