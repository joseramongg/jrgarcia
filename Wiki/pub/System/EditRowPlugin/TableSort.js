function sortTable(e,t){var s=$(e).closest("td,th"),a=s.closest("tr"),o=a.closest("table"),r=o.children("tbody"),n=s.index()+1,l=o.data("sort-data"),d=[],c=o.children("thead,tbody,tfoot").children("tr");if(!l){for(l={reversed:[],last_col:t.col||-1},i=a.children().length;i>0;i--)l.reversed.push(!1);void 0!==t.col&&(l.reversed[t.col]=t.reverse),l.bgs=0,c.each(function(){var e=$(this).attr("class").match(/(foswikiTableRowdataBg(\d+))/);if(e){var t=Number.parseInt(e[2])+1;t>l.bgs&&(l.bgs=t),$(this).removeClass(e[1])}})}n===l.last_col&&(l.reversed[n]=!l.reversed[n]);var h=l.reversed[n];l.last_col=n,o.data("sort-data",l).find(".tableSortIcon").remove(),r.children().each(function(){d.push($(this))}),d.sort(function(e,t){return compareValues(e.children().eq(n-1).text(),t.children().eq(n-1).text())*(h?-1:1)}),c.children("td,th").removeClass("foswikiSortedCol foswikiSortedAscendingCol foswikiSortedDescendingCol foswikiTableEven foswikiTableOdd"),c.each(function(){var e=$(this).attr("class").match(/(foswikiTableRowdataBg\d+)/);e&&$(this).removeClass(e[1]),(e=$(this).attr("class").match(/(foswikiTableRowdataBgSorted\d+)/))&&$(this).removeClass(e[1])}),r.empty(),$.each(d,function(e,t){r.append(t)}),(c=o.children("thead,tbody,tfoot").children("tr")).removeClass("foswikiTableEven foswikiTableOdd");var m=0;c.each(function(){$(this).children("th,td").eq(n-1).addClass("foswikiSortedCol foswikiSorted"+(h?"Descending":"Ascending")+"Col"),l.bgs>0&&$(this).addClass("foswikiTableRowdataBg"+m%l.bgs+" foswikiTableRowdataBgSorted"+m%l.bgs),$(this).addClass("foswikiTable"+(0==(1&m)?"Even":"Odd")),m++}),$("<div></div>").addClass("tableSortIcon ui-icon erp-button ui-icon-circle-triangle-"+(h?"s":"n")).attr("title","Sorted "+(h?"descending":"ascending")).appendTo(s)}function s2d(e){if(null!=(a=e.match(WIKIDATE))){var t=new Date;if(t.setDate(Number(a[1])),t.setMonth(months[a[2].toLowerCase()]),2==a[3].length){var s=a[3];s+=s>59?1900:2e3,t.setYear(s)}else t.setYear(a[3]);return null!=a[6]&&a[6].length&&t.setHours(a[6]),null!=a[7]&&a[7].length&&t.setMinutes(a[7]),t.getTime()}var a;if(null==(a=e.match(RFC8601)))return 0;var o=0,r=new Date(a[1],0,1);return a[3]&&r.setMonth(a[3]-1),a[5]&&r.setDate(a[5]),a[7]&&r.setHours(a[7]),a[8]&&r.setMinutes(a[8]),a[10]&&r.setSeconds(a[10]),a[12]&&r.setMilliseconds(1e3*Number("0."+a[12])),a[14]&&(o=60*Number(a[16])+Number(a[17]),o*="-"==a[15]?1:-1),o-=r.getTimezoneOffset(),time=Number(r)+60*o*1e3,time}function compareValues(e,t){var s=s2d(e);if(s){var a=s2d(t);a&&(e=s,t=a)}else{var o=parseFloat(e);if(!isNaN(o)){var r=parseFloat(t);isNaN(r)||(e=o,t=r)}}return"string"==typeof e&&(e=e.normalize("NFKD")),"string"==typeof t&&(t=t.normalize("NFKD")),e==t?0:e>t?1:-1}var months=new Array;months.jan=0,months.feb=1,months.mar=2,months.apr=3,months.may=4,months.jun=5,months.jul=6,months.aug=7,months.sep=8,months.oct=9,months.nov=10,months.dec=11;var WIKIDATE=new RegExp("^\\s*([0-3]?[0-9])[-\\s/]*(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)[-\\s/]*([0-9]{2}([0-9]{2})?)(\\s*(-\\s*)?([0-9]{2}):([0-9]{2}))?","i"),RFC8601=new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?");
