"use strict";tinymce.create("tinymce.plugins.Foswiki",{init:function(i,t){i.onInit.add(function(i){i.plugins.foswiki._fixAdvancedTheme(i),i.plugins.autosave&&!i.settings.foswiki_no_autosave_fixup&&i.plugins.foswiki._fixAutoSave(i)})},_fixAdvancedTheme:function(i){i.theme._mceLink=function(i,t){var e=this.editor;e.windowManager.open({url:tinymce.baseURL+"/themes/advanced/link.htm",width:360+parseInt(e.getLang("advanced.link_delta_width",0),10),height:200+parseInt(e.getLang("advanced.link_delta_height",0),10),inline:!0},{theme_url:this.url})}},_disableAutoSaveOnBadIEs:function(i){jQuery.browser.msie&&i.plugins.autosave&&(i.getElement().style.behavior="url('#default#userData')",void 0===i.getElement().load&&(i.plugins.autosave.setupStorage=function(){},i.plugins.autosave.removeDraft=function(){},i.plugins.autosave.restoreDraft=function(){},i.plugins.autosave.storeDraft=function(){},i.onInit.add(function(i){i.controlManager.controls[i.id+"_restoredraft"].remove(),i.controlManager.controls[i.id+"_restoredraft"].destroy()})))},_fixAutoSave:function(i){var t=i.id;i.id=FoswikiTiny.getFoswikiVar("WEB")+"."+FoswikiTiny.getFoswikiVar("TOPIC")+"."+t,i.id=i.id.replace("/","."),i.plugins.autosave.setupStorage(i),i.id=t},getInfo:function(){return{longname:"Foswiki plugin",author:"Foswiki Contributor",authorurl:"http://foswiki.org/System/ProjectContributor",infourl:"http://foswiki.org/Extensions/TinyMCEPlugin",version:"1.0"}}}),tinymce.PluginManager.add("foswiki",tinymce.plugins.Foswiki);
