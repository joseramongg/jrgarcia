!function(){var e=tinymce.DOM,n=tinymce.dom.Event,t=tinymce.each,i=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(o,c){function u(e,t){if(9===t.keyCode)return n.cancel(t)}function r(o,c){function u(n){function i(e){return"BODY"===e.nodeName||"hidden"!=e.type&&!("none"==e.style.display)&&!("hidden"==e.style.visibility)&&i(e.parentNode)}function c(e){return(!(tinymce.isIE6||tinymce.isIE7)||function(e){return e.attributes.tabIndex.specified||"INPUT"==e.nodeName||"TEXTAREA"==e.nodeName}(e))&&"-1"!=e.getAttribute("tabindex")&&i(e)}if(d=e.select(":input:enabled,*[tabindex]:not(iframe)"),t(d,function(e,n){if(e.id==o.id)return r=n,!1}),n>0){for(a=r+1;a<d.length;a++)if(c(d[a]))return d[a]}else for(a=r-1;a>=0;a--)if(c(d[a]))return d[a];return null}var r,a,d,s;if(9===c.keyCode&&(1==(s=i(o.getParam("tab_focus",o.getParam("tabfocus_elements",":prev,:next")))).length&&(s[1]=s[0],s[0]=":prev"),d=c.shiftKey?":prev"==s[0]?u(-1):e.get(s[0]):":next"==s[1]?u(1):e.get(s[1])))return d.id&&(o=tinymce.get(d.id||d.name))?o.focus():window.setTimeout(function(){tinymce.isWebKit||window.focus(),d.focus()},10),n.cancel(c)}o.onKeyUp.add(u),tinymce.isGecko?(o.onKeyPress.add(r),o.onKeyDown.add(u)):o.onKeyDown.add(r)},getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)}();
